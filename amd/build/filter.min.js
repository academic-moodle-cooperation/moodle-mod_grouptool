/**
 * Javascript for sortable groups-list
 *
 * @module   mod_grouptool/filter
 * @author    Daniel Binder
 * @copyright 2020 Academic Moodle Cooperation {@link http://www.academic-moodle-cooperation.org}
 * @license   http://www.gnu.org/copyleft/gpl.html GNU GPL v3 or later
 */
define("mod_grouptool/filter",["jquery","core/config","core/log"],(function($,config,log){var Filter=function(){this.baseurl=config.wwwroot+"/lib/ajax/setuserpref.php"};return Filter.prototype.toogleUnoccupiedFilter=function(){var updatePrefs=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];$(".group-full").toggle(),updatePrefs&&this.setUserPreference()},Filter.prototype.setUserPreference=function(){var name="mod_grouptool_hideoccupied",value=!1;!0===$("#filterunoccupied").prop("checked")&&(value=!0);var cfg={method:"get",url:this.baseurl,data:{sesskey:config.sesskey,pref:encodeURI(name),value:encodeURI(value)},beforeSend:function(){log.info("set user preference "+name+": "+value,"grouptool")},success:function(){log.info("set user preference OK","grouptool")},error:function(){log.error("set user preference FAILED","grouptool")}};$.ajax(cfg)},{init:function(params){var instance=new Filter;$("#filterunoccupied").change((function(){instance.toogleUnoccupiedFilter()})),log.info(params),log.info(params.filterunoccupied),params.filterunoccupied&&($("#filterunoccupied").prop("checked",!0),instance.toogleUnoccupiedFilter(!1))}}}));

//# sourceMappingURL=filter.min.js.map