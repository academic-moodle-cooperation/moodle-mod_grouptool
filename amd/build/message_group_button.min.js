define("mod_grouptool/message_group_button",["exports","jquery","core/templates","core/custom_interaction_events","core_message/message_drawer_helper"],(function(_exports,_jquery,_templates,_custom_interaction_events,_message_drawer_helper){function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}Object.defineProperty(_exports,"__esModule",{value:!0}),_exports.send=_exports.init=void 0,_jquery=_interopRequireDefault(_jquery),_templates=_interopRequireDefault(_templates),_custom_interaction_events=_interopRequireDefault(_custom_interaction_events),_message_drawer_helper=_interopRequireDefault(_message_drawer_helper);_exports.init=()=>{window.console.log("we have been started")};var SELECTORS_MESSAGE_TEXTAREA='[data-region="send-message-txt"]',SELECTORS_MESSAGE_USER_BUTTON="#message-group-button",TEMPLATES_CONTENT="core_message/message_jumpto",getConversationId=function(element){return parseInt(element.attr("data-conversationid"))};_exports.send=element=>{window.console.log(element),element=(0,_jquery.default)(element);var args={conversationid:getConversationId(element),buttonid:(0,_jquery.default)(element).attr("id")};window.console.log(element),window.console.log(args),_templates.default.render(TEMPLATES_CONTENT,{}).then((function(html){element.after(html)})).then((function(){(0,_jquery.default)(SELECTORS_MESSAGE_USER_BUTTON).next().focus((function(){(0,_jquery.default)(SELECTORS_MESSAGE_TEXTAREA).focus()}))})),_custom_interaction_events.default.define(element,[_custom_interaction_events.default.events.activate]),element.on(_custom_interaction_events.default.events.activate,(function(e,data){(0,_jquery.default)(e.target).hasClass("active")?(_message_drawer_helper.default.hide(),(0,_jquery.default)(SELECTORS_MESSAGE_USER_BUTTON).next().attr("tabindex",-1)):((0,_jquery.default)(SELECTORS_MESSAGE_USER_BUTTON).next().attr("tabindex",0),args.conversationid?_message_drawer_helper.default.showConversation(args):window.console.warn("Group conversation does not exist")),(0,_jquery.default)(e.target).focus(),(0,_jquery.default)(e.target).toggleClass("active"),e.preventDefault(),data.originalEvent.preventDefault()})),window.console.log("mod_grouptool: Send was executed")}}));

//# sourceMappingURL=message_group_button.min.js.map