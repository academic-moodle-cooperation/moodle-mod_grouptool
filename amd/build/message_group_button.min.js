define("mod_grouptool/message_group_button",["jquery","core/custom_interaction_events","core_message/message_drawer_helper","core/templates"],(function($,CustomEvents,MessageDrawerHelper,Templates){var SELECTORS_MESSAGE_TEXTAREA='[data-region="send-message-txt"]',SELECTORS_MESSAGE_USER_BUTTON="#message-group-button",TEMPLATES_CONTENT="core_message/message_jumpto",getConversationId=function(element){return parseInt(element.attr("data-conversationid"))};return{send:element=>{window.console.log(element),element=$(element);var args={conversationid:getConversationId(element),buttonid:$(element).attr("id")};window.console.log(element),window.console.log(args),Templates.render(TEMPLATES_CONTENT,{}).then((function(html){element.after(html)})).then((function(){$(SELECTORS_MESSAGE_USER_BUTTON).next().focus((function(){$(SELECTORS_MESSAGE_TEXTAREA).focus()}))})),CustomEvents.define(element,[CustomEvents.events.activate]),element.on(CustomEvents.events.activate,(function(e,data){$(e.target).hasClass("active")?(MessageDrawerHelper.hide(),$(SELECTORS_MESSAGE_USER_BUTTON).next().attr("tabindex",-1)):($(SELECTORS_MESSAGE_USER_BUTTON).next().attr("tabindex",0),args.conversationid?MessageDrawerHelper.showConversation(args):window.console.warn("Group conversation does not exist")),$(e.target).focus(),$(e.target).toggleClass("active"),e.preventDefault(),data.originalEvent.preventDefault()})),window.console.log("mod_grouptool: Send was executed")}}}));

//# sourceMappingURL=message_group_button.min.js.map